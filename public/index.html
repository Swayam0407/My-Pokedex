<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokémon Fetcher</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

  body {
    font-family: "Press Start 2P", system-ui;
    font-weight: 400;
    background-image: linear-gradient(rgba(195, 132, 17, 0.9), rgba(255, 255, 255, 0.9)), url('/bg.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    margin: 0;
    padding: 20px;
    text-align: center;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
  }

  h1 {
    font-size: 3rem;
    color: #ffcb05;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
    margin-bottom: 10px;
  }

  h2 {
    font-size: 1.8rem;
    color: #3b4cca;
    margin-bottom: 20px;
  }

  .pokemon-image {
    width: 450px;
    height: 200px;
    margin: 0 auto;
    border-radius: 10px;
    margin-bottom: 20px;
  }

  form {
    margin-bottom: 20px;
    background-color: rgba(255, 255, 255, 0.95);
    border-radius: 15px;
    padding: 25px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    max-width: 400px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  form label, form input, form select, form button {
    margin-bottom: 15px;
    width: 100%;
    text-align: center;
    font-family: "Press Start 2P", system-ui;
  }

  form input, form select {
    padding: 12px;
    font-size: 1rem;
    border: 1px solid #ddd;
    border-radius: 8px;
    outline: none;
    width: 80%;
    font-family: "Press Start 2P", system-ui;
  }

  form button {
    padding: 12px 24px;
    font-size: 1.2rem;
    background-color: #ffcb05;
    color: #3b4cca;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    text-transform: uppercase;
    font-weight: bold;
  }

  form button:hover {
    background-color: #f0b000;
  }

  .pokemon-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 25px;
    margin-top: 40px;
  }

  .pokemon-card {
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 12px;
    width: 180px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease;
  }

  .pokemon-card:hover {
    transform: scale(1.05);
  }

  .pokemon-card img {
    width: 120px;
    height: 120px;
  }

  .pokemon-card h3 {
    margin: 10px 0;
    font-size: 20px;
    color: #3b4cca;
  }

  .pokemon-card p {
    margin: 5px 0;
    font-size: 14px;
    color: #555;
  }

  .save-btn {
    background-color: #ffcb05;
    color: #3b4cca;
    padding: 8px 12px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-family: "Press Start 2P", system-ui;
    font-size: 0.9rem;
    transition: background-color 0.3s ease;
    text-transform: uppercase;
    font-weight: bold;
    margin-top: 10px;
}

.save-btn:hover {
    background-color: #f0b000;
}

 
  .my-cards-btn {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 10px 20px;
    background-color: #ffcb05;
    color: #3b4cca;
    font-family: "Press Start 2P", system-ui;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    text-transform: uppercase;
    font-weight: bold;
    z-index: 1000;
  }

  .my-cards-btn:hover {
    background-color: #f0b000;
  }


#myCardsContainer {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-top: 20px;
    position: relative;
    z-index: 10; 
}


#myCardsContainer .pokemon-card {
    background-color: #fff;
    border: 1px solid #ddd;
    border-radius: 12px;
    width: 180px;
    padding: 20px;
    text-align: center;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease;
}

#myCardsContainer .pokemon-card:hover {
    transform: scale(1.05);
}

  footer {
    padding: 20px 0;
    text-align: center;
    margin-top: 40px;
  }

  .social-buttons {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-bottom: 20px;
  }

  .social-btn {
    text-decoration: none;
    padding: 10px 20px;
    font-family: "Press Start 2P", system-ui;
    font-size: 14px;
    color: white;
    border-radius: 5px;
    transition: background-color 0.3s;
    display: inline-block;
    text-transform: uppercase;
    font-weight: bold;
  }

  .twitter-btn {
    background-color: #1DA1F2;
  }

  .twitter-btn:hover {
    background-color: #0d8de1;
  }

  .github-btn {
    background-color: #333;
  }

  .github-btn:hover {
    background-color: #555;
  }

  .linkedin-btn {
    background-color: #0077b5;
  }

  .linkedin-btn:hover {
    background-color: #005e93;
  }
</style>

</head>
<body>
  <header>
    <button class="my-cards-btn" onclick="toggleMyCards()">My Cards</button>
</header>
    <h1>Pokémon Finder</h1>
    <h2>Discover your favorite Pokémon!</h2>
    <img class="pokemon-image" src="./pok4.png" alt="Pikachu"> 

    <form action="/api/get-pokemon" method="get" id="pokemonForm">
        <label for="number">Number of Pokémons:</label>
        <input type="number" name="number" min="1" id="number" required>
        <label for="category">Category:</label>
        <select name="category" id="category" required>
            <option value="normal">Normal</option>
<option value="fire">Fire</option>
<option value="water">Water</option>
<option value="electric">Electric</option>
<option value="grass">Grass</option>
<option value="ice">Ice</option>
<option value="fighting">Fighting</option>
<option value="poison">Poison</option>
<option value="ground">Ground</option>
<option value="flying">Flying</option>
<option value="psychic">Psychic</option>
<option value="bug">Bug</option>
<option value="rock">Rock</option>
<option value="ghost">Ghost</option>
<option value="dragon">Dragon</option>
<option value="dark">Dark</option>
<option value="steel">Steel</option>
<option value="fairy">Fairy</option>
        </select>
        <button type="submit">Get Pokémon!</button>
    </form>

    <div class="pokemon-container" id="pokemonContainer"></div>
    <div id="myCardsContainer" style="display: none;"></div>
    <footer>
    <div class="social-buttons">
        <a href="https://x.com/SwayamAgga1408" target="_blank" class="social-btn twitter-btn">Twitter</a>
        <a href="https://github.com/Swayam0407" target="_blank" class="social-btn github-btn">GitHub</a>
        <a href="https://www.linkedin.com/in/swayamaggarwal/" target="_blank" class="social-btn linkedin-btn">LinkedIn</a>
    </div>
    @swayam_aggarwal
</footer>

    <script>
document.getElementById('pokemonForm').addEventListener('submit', async function (event) {
    event.preventDefault();

    const number = document.getElementById('number').value;
    const category = document.getElementById('category').value;

    const response = await fetch(`/api/get-pokemon?number=${number}&category=${category}`);
    const pokemons = await response.json();

    const pokemonContainer = document.getElementById('pokemonContainer');
    pokemonContainer.innerHTML = ''; 

    pokemons.forEach(pokemon => {
        const pokemonCard = `
            <div class="pokemon-card">
                <img src="${pokemon.image}" alt="${pokemon.name}">
                <h3>${pokemon.name}</h3>
                <p>Type: ${pokemon.types.join(', ')}</p>
                <button class="save-btn" onclick="savePokemon('${pokemon.name}', '${pokemon.image}', '${pokemon.types.join(', ')}')">Save</button>
            </div>
        `;
        pokemonContainer.innerHTML += pokemonCard; 
    });
});

const savedPokemons = []; 

function savePokemon(name, image, types) {
    const myCardsContainer = document.getElementById('myCardsContainer');

    if (savedPokemons.some(pokemon => pokemon.name === name)) {
        alert(`${name} is already saved!`);
        return;
    }

    savedPokemons.push({ name, image, types });

    const savedCard = `
        <div class="pokemon-card">
            <img src="${image}" alt="${name}">
            <h3>${name}</h3>
            <p>Type: ${types}</p>
        </div>
    `;

    myCardsContainer.innerHTML += savedCard; 
}

function toggleMyCards() {
    const myCardsContainer = document.getElementById('myCardsContainer');
    const pokemonContainer = document.getElementById('pokemonContainer');
    const myCardsButton = document.querySelector('.my-cards-btn'); 

    if (myCardsContainer.style.display === 'none' || myCardsContainer.style.display === '') {
        myCardsContainer.style.display = 'flex';
        pokemonContainer.style.display = 'none';
        myCardsButton.innerHTML = 'All Cards'; 
    } else {
        myCardsContainer.style.display = 'none';
        pokemonContainer.style.display = 'flex';
        myCardsButton.innerHTML = 'My Cards';  
    }
}

    </script>
</body>
</html>
